---
import { Image } from "astro:assets";

export interface ExperienceItemProps {
  item: {
    company: string;
    title: string;
    date: string;
    description?: string;
    image?: string; // This will be the path from `import.meta.glob`
  };
  imageSrc: ImageMetadata | null;
}

const { item, imageSrc } = Astro.props;
---

<div class="group flex flex-row gap-4 items-center my-8">
  {imageSrc && (
    <div class="flex-shrink-0">
      <Image
        src={imageSrc}
        alt={item.company}
        width={128}
        height={128}
        class="w-20 sm:w-24 md:w-32 h-auto"
      />
    </div>
  )}
  <div class="border-l-2 border-zinc-600 pl-4 flex-1 group-hover:border-zinc-300">
    <div class="my-4">
      <h3 class="text-lg sm:text-2xl font-bold text-white">
        {item.title}
      </h3>
      <p class="text-sm sm:text-lg text-zinc-400">{item.company}</p>
      <p class="text-zinc-300">{item.date}</p>
      {item.description && (
        <p class="text-sm text-zinc-400 mt-2">{item.description}</p>
      )}
    </div>
  </div>
</div>